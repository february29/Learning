(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/beautysalon/index"],{2619:function(t,e,i){"use strict";i("bd78");var a=n(i("b0ce")),s=n(i("c217"));function n(t){return t&&t.__esModule?t:{default:t}}Page((0,a.default)(s.default))},"3d3e":function(t,e,i){"use strict";i.r(e);var a=i("b6c7"),s=i.n(a);for(var n in a)"default"!==n&&function(t){i.d(e,t,function(){return a[t]})}(n);e["default"]=s.a},7045:function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",{staticClass:"content"},[i("view",{staticClass:"carousel-section"},[i("swiper",{staticClass:"carousel",attrs:{circular:"",autoplay:"true",interval:"3000",duration:"500",eventid:"e3ee025c-1"},on:{animationfinish:t.swiperChange}},t._l(t.carouselList,function(e,a){return i("swiper-item",{key:a,staticClass:"carousel-item",attrs:{eventid:"e3ee025c-0-"+a,mpcomid:"e3ee025c-0-"+a},on:{click:function(i){t.swiperClick(e,a)}}},[i("image",{attrs:{src:t.baseUrl+"advs/"+e.picture}})])})),i("view",{staticClass:"swiper-dots"},[i("text",{staticClass:"num"},[t._v(t._s(t.swiperCurrent+1))]),i("text",{staticClass:"sign"},[t._v("/")]),i("text",{staticClass:"num"},[t._v(t._s(t.carouselList.length))])])],1),i("view",{staticClass:"cate-section"},t._l(t.menuList,function(e,a){return i("view",{key:a,staticClass:"cate-item",attrs:{eventid:"e3ee025c-2-"+a},on:{click:function(e){t.navToMealTypePage(a)}}},[i("image",{attrs:{src:e.pic,mode:"aspectFit"}}),i("text",[t._v(t._s(e.type))])])})),i("view",{staticClass:"hot-section"},[t._m(0),i("scroll-view",{staticClass:"hot-list",attrs:{"scroll-x":"true","scroll-y":"false"}},t._l(t.hotList,function(e,a){return i("beauty-meal-item-comp",{key:a,staticClass:"list-item",attrs:{mealItem:e,eventid:"e3ee025c-3-"+a,mpcomid:"e3ee025c-1-"+a},on:{itemClick:t.navToDetailPage}})}))],1),i("view",{staticClass:"beautician-section"},t._l(t.beauticianls,function(e,a){return i("view",{key:a,staticClass:"beautician-item"},[i("view",{staticClass:"title-view"},[i("text",{staticClass:"title-text"},[t._v(t._s(e.typeName))]),i("text",{staticClass:"title-btn",attrs:{eventid:"e3ee025c-4-"+a},on:{click:function(i){t.navToBeauticainlistPage(e.typeId)}}},[t._v("更多>>")])]),i("scroll-view",{staticClass:"beautician-item-list",attrs:{"scroll-x":"false","scroll-y":"false"}},t._l(e.beauticialList,function(e,s){return i("view",{key:s,staticClass:"beautician-item-list-tiem",attrs:{eventid:"e3ee025c-5-"+a+"-"+s},on:{click:function(i){t.navToBeauticainDetailPage(e.id)}}},[i("image",{staticClass:"beautician-item-img",attrs:{src:t.baseUrl+"beau_head/"+e.photo,mode:"aspectFill"}}),i("text",{staticClass:"beautician-item-name"},[t._v(t._s(e.name))]),i("text",{staticClass:"beautician-item-desc"},[t._v(t._s(e.profile))])])}))],1)}))])},s=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",{staticClass:"title-view"},[i("text",{staticClass:"title-text"},[t._v("热门套餐")])])}];i.d(e,"a",function(){return a}),i.d(e,"b",function(){return s})},7235:function(t,e,i){},b6c7:function(t,e,i){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=n(i("a34a")),s=n(i("6b3d"));function n(t){return t&&t.__esModule?t:{default:t}}function c(t,e,i,a,s,n,c){try{var o=t[n](c),r=o.value}catch(l){return void i(l)}o.done?e(r):Promise.resolve(r).then(a,s)}function o(t){return function(){var e=this,i=arguments;return new Promise(function(a,s){var n=t.apply(e,i);function o(t){c(n,a,s,o,r,"next",t)}function r(t){c(n,a,s,o,r,"throw",t)}o(void 0)})}}var r={components:{beautyMealItemComp:s.default},data:function(){return{baseUrl:this.api.baseUrl,titleNViewBackground:"",swiperCurrent:0,carouselList:[],typeList:[],menuList:[],hotList:[],beauticianls:[],showSkeleton:!0}},computed:{_topPicList:function(){for(var t=[],e=0;e<this.carouselList.length;e++){var i=this.carouselList[e];t.push(this.api.baseUrl+"advs/"+i.picture)}return console.log("list:",t),t}},onLoad:function(){this.loadData()},onPullDownRefresh:function(){this.loadData()},methods:{loadData:function(){var e=o(a.default.mark(function e(){var i=this;return a.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:t.request({url:this.api.beautyIndex,data:{},success:function(e){console.log(e.data);var a=e.data;a?(i.carouselList=a.advList,i.hotList=a.hotMealList,i.beauticianls=a.beauticianl):t.showToast({icon:"none",title:"数据异常"})},fail:function(e){console.log("error :",e.errMsg),t.showToast({icon:"none",title:"网络异常"})}}),t.request({url:this.api.mealType,data:{},success:function(e){console.log(e.data);var a=e.data;if(a){i.typeList=a.typeList,i.menuList=[];for(var s=0;s<i.typeList.length;s++){var n=i.typeList[s];1==n.id?n.pic="/static/btn-face.png":2==n.id?n.pic="/static/btn-moxibustion.png":3==n.id?n.pic="/static/btn-vip.png":4==n.id&&(n.pic="/static/btn-foot-bath.png"),i.menuList.push(n)}i.menuList.push({id:-1,type:"签到",hidden:0,pic:"/static/btn-signarrive.png"})}else t.showToast({icon:"none",title:"数据异常"})},fail:function(e){console.log("error :",e.errMsg),t.showToast({icon:"none",title:"网络异常"})}});case 2:case"end":return e.stop()}},e,this)}));function i(){return e.apply(this,arguments)}return i}(),swiperChange:function(t){var e=t.detail.current;this.swiperCurrent=e},swiperClick:function(e){t.previewImage({indicator:"number",current:this._topPicList[e],urls:this._topPicList})},navToDetailPage:function(e){t.navigateTo({url:"/pages/beautysalon/beautyMealDetail?id="+e})},navToBeauticainlistPage:function(e){t.navigateTo({url:"/pages/beautysalon/beauticains?type="+e})},navToBeauticainDetailPage:function(e){t.navigateTo({url:"/pages/beautysalon/beauticainDetail?id="+e})},navToMealTypePage:function(e){t.navigateTo({url:"/pages/beautysalon/beautyCategory?idx="+e+"&typeList="+JSON.stringify(this.typeList)})}}};e.default=r}).call(this,i("6e42")["default"])},c217:function(t,e,i){"use strict";i.r(e);var a=i("7045"),s=i("3d3e");for(var n in s)"default"!==n&&function(t){i.d(e,t,function(){return s[t]})}(n);i("c42e");var c=i("2877"),o=Object(c["a"])(s["default"],a["a"],a["b"],!1,null,null,null);e["default"]=o.exports},c42e:function(t,e,i){"use strict";var a=i("7235"),s=i.n(a);s.a}},[["2619","common/runtime","common/vendor"]]]);